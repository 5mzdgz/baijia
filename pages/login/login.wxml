<!--pages/login/login.wxml-->

<navigation
id='Navigation'
show-icon='{{showIcon}}'
title="登录/注册"
>
</navigation>
<view class="content">
  <view class="container login-container" hidden="{{!loadingHidden}}">

    <view class="login-top">
      <view class="login-nav flex-r">
        <view class="nav-item flex-c" wx:for="{{loginNav}}" wx:key="{{index}}" data-index="{{index}}" bindtap="checkedNav">
          <text>{{item}}</text>
          <view class="triangle {{current === index ? 'white':''}}"></view>
        </view>
      </view>
    </view>

    <view class="btn-box" wx:if="{{!isPhone}}">
      <button open-type="getUserInfo" lang="zh_CN" bindgetuserinfo="bindGetUserInfo">微信登录</button>
      <button open-type="getPhoneNumber" bindgetphonenumber="getPhoneNumber">手机号登录</button>
    </view>

    <view class="phone" wx:if="{{isPhone}}">
      <form bindsubmit="saveTap">
        <view class="p-item flex-r">
          <text class="iconfont icon-dianhua"></text>
          <input type="number" maxlength="11" placeholder="请输入手机号码" name="phone" />
        </view>
        <view class="p-item flex-r">
          <text class="iconfont icon-dianhua"></text>
          <input type="password" maxlength="20" placeholder="请输入密码" name="password" />
        </view>
        
        <view class="p-item flex-r" wx:if="{{isPhone && current===1}}">
          <text class="iconfont icon-dianhua"></text>
          <input type="password" maxlength="20" placeholder="再次确认密码" name="checkedPassword"  />
        </view>

        <view class="p-item flex-r" wx:if="{{isPhone && current===0}}">忘记密码</view>

        <button class="login-btn" form-type="submit">立即登录</button>
      </form>
    </view>

  </view>
  <loading hidden="{{loadingHidden}}">
    加载中...
  </loading>
</view>
